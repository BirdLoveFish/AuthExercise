<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

    <button onclick="callApi()">api</button>

    <script src="js/axios.min.js"></script>
    <script src="js/oidc-client.min.js"></script>
    <script src="./app.js"></script>

    <script>
        var userManager = new Oidc.UserManager();
        userManager.signinCallback()
            .then(res => {
                console.log(res);
                axios.defaults.headers.common["Authorization"] =
                    "Bearer " + res.access_token;
            })

        function callApi() {
            axios.get("http://localhost:5001/secret/index")
                .then(res => {
                    console.log(res);
                })
        }


    </script>
</body>
</html>